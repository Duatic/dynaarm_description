<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from dynaarm.xacro                  | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="dynaarm">
  <!-- create world link and link it to the dynaarm base -->
  <link name="world"/>
  <gazebo reference="world">
    <static>true</static>
  </gazebo>
  <!-- World - Base -->
  <joint name="joint_base" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="world"/>
    <child link="dynaarm_base"/>
  </joint>
  <!-- Base -->
  <link name="dynaarm_base">
    <inertial>
      <mass value="1.894"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/100_base_mesh.dae"/>
      </geometry>
      <material name="carbon_fiber">
        <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/100_base_mesh_col.dae"/>
      </geometry>
    </collision>
  </link>
  <!-- Shoulder flex -->
  <link name="dynaarm_SHOULDER">
    <inertial>
      <mass value="2.644"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 -0.0017336"/>
      <inertia ixx="0.010301209999999998" ixy="-5.0849999999999996e-05" ixz="0.0" iyy="0.0030164999999999997" iyz="0.0" izz="0.01009904"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/101_shoulder_mesh.dae"/>
      </geometry>
      <material name="carbon_fiber">
        <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/101_shoulder_mesh_col.dae"/>
      </geometry>
    </collision>
  </link>
  <!-- Shoulder Extension -->
  <link name="dynaarm_UPPERARM">
    <inertial>
      <mass value="1.394"/>
      <origin rpy="0 0 0" xyz="0.21109 2.2e-05 -0.000317"/>
      <inertia ixx="0.00116179" ixy="-7.2e-07" ixz="-0.00014044999999999997" iyy="0.046092126" iyz="7e-09" izz="0.04627953"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/102_upperarm_mesh.dae"/>
      </geometry>
      <material name="carbon_fiber">
        <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/102_upperarm_mesh_col.dae"/>
      </geometry>
    </collision>
  </link>
  <!-- Elbow flex -->
  <link name="dynaarm_ELBOW">
    <inertial>
      <mass value="1.1"/>
      <origin rpy="0 0 0" xyz="0.0068 -0.0848 -0.0006"/>
      <inertia ixx="0.0013843" ixy="-4.16e-05" ixz="8.5e-06" iyy="0.0007168" iyz="-1.05e-05" izz="0.0011300999999999998"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/103_elbow_mesh.dae"/>
      </geometry>
      <material name="carbon_fiber">
        <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="file:///root/ros2_ws/install/duatic_ros2_description/share/duatic_ros2_description/meshes/103_elbow_mesh_col.dae"/>
      </geometry>
    </collision>
  </link>
  <link name="tool0">
    <inertial>
      <mass value="1"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
  </link>
  <!-- SH_ROT -->
  <joint name="SH_ROT" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.06"/>
    <parent link="dynaarm_base"/>
    <child link="dynaarm_SHOULDER"/>
    <axis xyz="0 0 1"/>
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-4.71238898038469" upper="4.71238898038469" velocity="17"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <!-- SH_FLE -->
  <joint name="SH_FLE" type="revolute">
    <parent link="dynaarm_SHOULDER"/>
    <child link="dynaarm_UPPERARM"/>
    <axis xyz="0 0 -1"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-1.8707963267948966" upper="1.8707963267948966" velocity="17"/>
    <origin rpy="1.5707963267948966 -1.5707963267948966 0" xyz="0 0 0.0"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <!-- EL_FLE -->
  <joint name="EL_FLE" type="revolute">
    <parent link="dynaarm_UPPERARM"/>
    <child link="dynaarm_ELBOW"/>
    <axis xyz="0 0 1"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="0" upper="-3.141592653589793" velocity="17"/>
    <origin rpy="3.141592653589793 3.141592653589793 0" xyz="0.412 0 0"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <!-- FA_ROT -->
  <joint name="FA_ROT" type="revolute">
    <parent link="dynaarm_ELBOW"/>
    <child link="tool0"/>
    <axis xyz="0 0 1"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-4.71238898038469" upper="4.71238898038469" velocity="17"/>
    <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0.0325 -0.092 0"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <ros2_control name="DynaarmRos2Control" type="system">
    <hardware>
      <!-- <plugin>mock_components/GenericSystem</plugin> -->
      <plugin>gz_ros2_control/GazeboSimSystem</plugin>
    </hardware>
    <joint name="SH_ROT">
      <param name="address">1</param>
      <command_interface name="position">
        <param name="min">{-2*pi}</param>
        <param name="max">{2*pi}</param>
      </command_interface>
      <command_interface name="velocity">
        <param name="min">-3.15</param>
        <param name="max">3.15</param>
      </command_interface>
      <command_interface name="effort">
        <param name="min">-100.0</param>
        <param name="max">100.0</param>
      </command_interface>
      <state_interface name="position">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="velocity">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="effort">
        <param name="initial_value">0.0</param>
      </state_interface>
    </joint>
    <joint name="SH_FLE">
      <param name="address">3</param>
      <command_interface name="position">
        <param name="min">{-2*pi}</param>
        <param name="max">{2*pi}</param>
      </command_interface>
      <command_interface name="velocity">
        <param name="min">-3.15</param>
        <param name="max">3.15</param>
      </command_interface>
      <command_interface name="effort">
        <param name="min">-100.0</param>
        <param name="max">100.0</param>
      </command_interface>
      <state_interface name="position">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="velocity">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="effort">
        <param name="initial_value">0.0</param>
      </state_interface>
    </joint>
    <joint name="EL_FLE">
      <param name="address">2</param>
      <command_interface name="position">
        <param name="min">{-2*pi}</param>
        <param name="max">{2*pi}</param>
      </command_interface>
      <command_interface name="velocity">
        <param name="min">-3.15</param>
        <param name="max">3.15</param>
      </command_interface>
      <command_interface name="effort">
        <param name="min">-100.0</param>
        <param name="max">100.0</param>
      </command_interface>
      <state_interface name="position">
        <param name="initial_value">0</param>
      </state_interface>
      <state_interface name="velocity">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="effort">
        <param name="initial_value">0.0</param>
      </state_interface>
    </joint>
    <joint name="FA_ROT">
      <param name="address">4</param>
      <command_interface name="position">
        <param name="min">{-2*pi}</param>
        <param name="max">{2*pi}</param>
      </command_interface>
      <command_interface name="velocity">
        <param name="min">-3.15</param>
        <param name="max">3.15</param>
      </command_interface>
      <command_interface name="effort">
        <param name="min">-100.0</param>
        <param name="max">100.0</param>
      </command_interface>
      <state_interface name="position">
        <param name="initial_value">0</param>
      </state_interface>
      <state_interface name="velocity">
        <param name="initial_value">0.0</param>
      </state_interface>
      <state_interface name="effort">
        <param name="initial_value">0.0</param>
      </state_interface>
    </joint>
  </ros2_control>
  <gazebo>
    <plugin filename="libgz_ros2_control-system.so" name="gz_ros2_control::GazeboSimROS2ControlPlugin">
      <parameters>/root/ros2_ws/install/dynaarm_driver/share/dynaarm_driver/config/controllers.yaml</parameters>
    </plugin>
  </gazebo>
</robot>
